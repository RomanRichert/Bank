<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>bank: Bank application</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">bank
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Bank application </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Simple bank application with ability to manage accounts, transfer money between accounts and manage related transactions.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Environment:</h1>
<ul>
<li>Java version: 11</li>
<li>Maven</li>
<li>Spring Boot version: 2.7.6.RELEASE</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
General requirements:</h1>
<ul>
<li>SQL database should be used for storing accounts and transactions. Please use in-memory H2 database and add it as dependency.</li>
<li>Application should be able to work in multithreading environment.</li>
<li>All responses with errors should have the same format.</li>
<li>New transaction should be created every time when amount of money is changed in account.</li>
<li>All layers of the application should be covered by unit tests.</li>
</ul>
<h1><a class="anchor" id="autotoc_md3"></a>
Data:</h1>
<p>Example of a Account data JSON object: </p><div class="fragment"><div class="line">{</div>
<div class="line">   &quot;id&quot;: 1,</div>
<div class="line">   &quot;email&quot;: &quot;user@host.com&quot;,</div>
<div class="line">   &quot;creationDate&quot;: &quot;2022-12-31&quot;,</div>
<div class="line">   &quot;firstName&quot;: &quot;Tomas&quot;,</div>
<div class="line">   &quot;lastName&quot;: &quot;Muller&quot;,</div>
<div class="line">   &quot;country&quot;: &quot;Germany&quot;,</div>
<div class="line">   &quot;city&quot;: &quot;Munich&quot;,</div>
<div class="line">   &quot;amountOfMoney&quot;: 200,99,</div>
<div class="line">   &quot;transactions&quot;: [5, 8, 32, 6]</div>
<div class="line">}</div>
</div><!-- fragment --><p>Examples of a Transaction data JSON object: </p><div class="fragment"><div class="line">{</div>
<div class="line">   &quot;id&quot;: 1,</div>
<div class="line">   &quot;dateTime&quot;: &quot;2022-12-31 23:59:59&quot;,</div>
<div class="line">   &quot;type&quot;: &quot;Transfer between accounts&quot;,</div>
<div class="line">   &quot;accountFrom&quot;: &quot;2&quot;,</div>
<div class="line">   &quot;accountTo&quot;: &quot;4&quot;,</div>
<div class="line">   &quot;amount&quot;: 200.50</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">{</div>
<div class="line">   &quot;id&quot;: 2,</div>
<div class="line">   &quot;dateTime&quot;: &quot;2022-12-21 23:59:59&quot;,</div>
<div class="line">   &quot;type&quot;: &quot;Depositing own money to account&quot;,</div>
<div class="line">   &quot;accountFrom&quot;: &quot;5&quot;,</div>
<div class="line">   &quot;accountTo&quot;: &quot;5&quot;,</div>
<div class="line">   &quot;amount&quot;: 50</div>
<div class="line">}</div>
</div><!-- fragment --><p>Example of a error response JSON object: </p><div class="fragment"><div class="line">{</div>
<div class="line">   &quot;timestamp&quot;: &quot;2022-12-31 23:59:59&quot;,</div>
<div class="line">   &quot;problems&quot;: [&quot;problem1&quot;, &quot;problem2&quot;]</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md4"></a>
Requirements:</h1>
<p>The <code>REST</code> service must expose the <code>/accounts</code> and <code>/transactions</code> endpoints, which allows for managing the collection of account and transaction records in the following way:</p>
<p>POST request to <code>/accounts</code>:</p>
<ul>
<li>creates a new account data record</li>
<li>expects a valid account data object as its body payload, except that it does not have an id property</li>
<li>adds the given object to the collection and assigns a unique long id to it</li>
<li><p class="startli">the response code is 201 and the response body is the created record, including its unique id</p>
<p class="startli">GET request to <code>/accounts</code>:</p>
</li>
<li>the response code is 200</li>
<li>the response body is an array of matching records, ordered by their ids in increasing order</li>
<li>accepts an optional query string parameter, date, in the format YYYY-MM-DD, for example /account?date=2022-11-25. When this parameter is present, only the records with the matching date are returned.</li>
<li>accepts an optional query string parameter, city, and when this parameter is present, only the records with the matching city are returned. The value of this parameter is case insensitive, so "London" and "london" are equivalent. Moreover, it might contain several values, separated by commas (e.g. city=london,Munich), meaning that records with the city matching any of these values must be returned.</li>
<li><p class="startli">accepts an optional query string parameter, sort, that can take one of two values: either "creationDate" or "-creationDate". If the value is "creationDate", then the ordering is by date in ascending order. If it is "-creationDate", then the ordering is by creationDate in descending order. If there are two records with the same creationDate, the one with the smaller id must come first.</p>
<p class="startli">GET request to <code>/accounts/&lt;id&gt;</code>:</p>
</li>
<li>returns a record with the given id</li>
<li>if the matching record exists, the response code is 200 and the response body is the matching object</li>
<li><p class="startli">if there is no record in the collection with the given id, the response code is 404</p>
<p class="startli">PATCH request to <code>/accounts/&lt;id&gt;</code>:</p>
</li>
<li>updates an account with the given id</li>
<li>if the matching record exists, the response code is 200 and the response body is the updated object</li>
<li><p class="startli">if there is no record in the collection with the given id, the response code is 404</p>
<p class="startli">PUT request to <code>/accounts?from=&lt;fromId&gt;&amp;to=&lt;toId&gt;&amp;amount=&lt;moneyAmount&gt;</code>:</p>
</li>
<li>transfers money between accounts with given ids</li>
<li>if the matching records exists and account has enough money to transfer, the response code is 200 and the empty response body</li>
<li>if there is no record(s) in the collection with the given id, the response code is 404 with error(s) explanation in response</li>
<li><p class="startli">if account has not enough money to transfer, the response code is 400 with error explanation in response</p>
<p class="startli">GET request to <code>/transactions</code>:</p>
</li>
<li>the response code is 200</li>
<li>the response body is an array of matching records, ordered by their ids in increasing order</li>
<li>accepts an optional query string parameter, date, in the format YYYY-MM-DD, for example /transaction?date=2022-11-25. When this parameter is present, only the records with the matching date are returned.</li>
<li>accepts an optional query string parameter, type, and when this parameter is present, only the records with the matching type are returned. It might contain several values, separated by commas, meaning that records with the type matching any of these values must be returned.</li>
<li><p class="startli">accepts an optional query string parameter, sort, that can take one of two values: either "dateTime" or "-dateTime". If the value is "dateTime", then the ordering is by dateTime in ascending order. If it is "-dateTime", then the ordering is by dateTime in descending order. If there are two records with the same dateTime, the one with the smaller id must come first.</p>
<p class="startli">GET request to <code>/transactions/&lt;id&gt;</code>:</p>
</li>
<li>returns a record with the given id</li>
<li>if the matching record exists, the response code is 200 and the response body is the matching object</li>
<li>if there is no record in the collection with the given id, the response code is 404 Свернуть </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
